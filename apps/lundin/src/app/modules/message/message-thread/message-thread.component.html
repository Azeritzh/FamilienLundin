<section class="thread-container">
  <section class="thread-content-container">
    <header class="container-header">
      <h1>{{thread.title}}</h1>
      <div class="btn-container">
        <button type="button"
          (click)="addResponse()">
          Opret svar
        </button>
        @if (canEdit()) {
          <button
            type="button"
            (click)="editThread()">
            Redig√©r
          </button>
        }
      </div>

    </header>
    <section class="thread">
      <section class="thread-subject">
        <div class="thread-subheading">
          <div class="thread-author">
            {{thread.authorId | user | async }}
          </div>
          <div class="thread-date">
            {{thread.creationTime | date}}
          </div>
        </div>
        <div markdown
          [data]="thread.content"
        class="thread-content"></div>
      </section>
      <section class="responses">
        @for (response of thread.responses; track response) {
          <div
            class="response">
            <header class="response-header">
              <div class="response-author">
                {{response.authorId | user | async}}
              </div>
              <div class="response-date">
                {{response.creationTime | date}}
              </div>
            </header>
            <div class="response-content">
              <div>{{response.content}}</div>
            </div>
          </div>
        }
      </section>
    </section>
  </section>
</section>
